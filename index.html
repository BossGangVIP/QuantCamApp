<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>QuantCam</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- HEADER -->
  <header class="app-header">
    <h1 class="brand">QuantCam</h1>
    <a class="settings" href="settings.html" aria-label="Settings">
      <!-- inline gear (so no broken icon paths) -->
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
           stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06A2 2 0 1 1 7.04 3.4l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c0 .66.39 1.27 1 1.51.17.07.36.1.55.1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1Z"></path>
      </svg>
    </a>

    <!-- Ingest badge (centered, clear of logo + gear) -->
    <div id="ingestBadge" class="badge" role="status" aria-live="polite">Ingested ✓</div>
  </header>

  <!-- CAMERA AREA -->
  <main class="stage">
    <div class="frame">
      <video id="video" autoplay playsinline></video>
      <canvas id="canvas" class="hidden"></canvas>
      <!-- last photo preview (JS toggles visibility) -->
      <div id="previewWrap" class="preview hidden">
        <img id="previewImg" alt="Last photo preview" />
        <button id="closePreview" class="close" aria-label="Close preview">✕</button>
      </div>
    </div>

    <p id="status" class="status">Camera ready</p>

    <!-- CONTROLS (IDs preserved for your existing JS) -->
    <div class="toolbar">
      <button id="flipBtn" class="tool" aria-label="Flip camera" title="Flip">
        <!-- inline flip icon -->
        <svg viewBox="0 0 24 24" width="26" height="26" fill="none" stroke="currentColor" stroke-width="2"
             stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <polyline points="1 4 1 10 7 10"></polyline>
          <polyline points="23 20 23 14 17 14"></polyline>
          <path d="M20.49 9A9 9 0 0 0 6.5 5.5l-1.4 1.4"></path>
          <path d="M3.51 15A9 9 0 0 0 17.5 18.5l1.4-1.4"></path>
        </svg>
      </button>

      <button id="captureBtn" class="primary" aria-label="Capture photo" title="Capture">
        <!-- inline camera icon -->
        <svg viewBox="0 0 24 24" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2"
             stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
          <circle cx="12" cy="13" r="4"></circle>
        </svg>
      </button>

      <button id="galleryBtn" class="tool" aria-label="Open gallery" title="Gallery">
        <!-- inline folder icon -->
        <svg viewBox="0 0 24 24" width="26" height="26" fill="none" stroke="currentColor" stroke-width="2"
             stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M3 7h5l2 3h11v7a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3z"></path>
          <path d="M3 7V5a2 2 0 0 1 2-2h4l2 2h6a2 2 0 0 1 2 2v3"></path>
        </svg>
      </button>
    </div>
  </main>

  <!-- Your existing logic -->
  <script src="app.js"></script>
</body>
</html>
