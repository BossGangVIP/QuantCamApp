:root{
  --bg:#0f1a28;
  --panel:#121f31;
  --ink:#e9f1ff;
  --muted:#a8bfd6;
  --primary:#2f86ff;
  --primary-ink:#ffffff;
  --badge:#26a845;
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --radius:20px;
  --safe:env(safe-area-inset-bottom,0px);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--ink);
  font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}

/* Top bar */
.topbar{
  position:relative; display:flex; align-items:center; gap:12px;
  padding:18px 18px 6px 18px;
}
.brand{margin:0; font-size:34px; letter-spacing:.4px}
.gear{margin-left:auto; text-decoration:none; font-size:26px; line-height:1}

/* Badge sits between title and gear, not covering either */
.badge{
  position:absolute; right:76px; top:16px;
  background:var(--badge); color:#fff; padding:6px 14px;
  border-radius:12px; font-weight:700; display:none;
  box-shadow: var(--shadow);
}

/* Stage */
.stage{padding:8px 18px 0 18px}
.video-wrap{
  position:relative;
  background:var(--panel); border-radius:28px; box-shadow: var(--shadow);
  overflow:hidden; width:100%; aspect-ratio: 3/2;
}
video,canvas{width:100%; height:100%; object-fit:cover; display:block}
.hide{display:none}

/* Preview thumbnail bottom-right of the frame */
.preview{
  position:absolute; right:24px; bottom:24px; width:26vw; max-width:140px;
  border-radius:16px; overflow:hidden; box-shadow: var(--shadow);
}
.preview img{display:block; width:100%; height:auto}
.preview .x{
  position:absolute; top:6px; right:6px; border:0; border-radius:8px;
  background:#ffffffcf; font-size:14px; padding:2px 8px;
}

/* Status text */
.status{margin:14px 4px 0; color:var(--muted); font-size:20px}

/* Bottom toolbar */
.toolbar{
  position:fixed; left:0; right:0; bottom:calc(10px + var(--safe));
  display:flex; justify-content:space-around; align-items:center;
  padding:10px 18px 12px; gap:18px; background:transparent;
}
.btn{
  background:#1b2a41; color:#cfe3ff; border:0; border-radius:22px;
  padding:18px; min-width:64px; min-height:64px; box-shadow: var(--shadow);
}
.btn.icon{opacity:.95}
.btn.primary{
  background:var(--primary); color:var(--primary-ink);
  padding:24px; border-radius:28px; min-width:110px; min-height:110px;
  box-shadow: 0 16px 40px rgba(47,134,255,.45);
}

/* small-height phones */
@media (max-height: 680px){
  .video-wrap{aspect-ratio: 16/10}
  .btn.primary{min-width:96px; min-height:96px}
}

/* Safe-area padding */
@supports(padding:max(0px)){
  .topbar{padding-left:max(18px, env(safe-area-inset-left)); padding-right:max(18px, env(safe-area-inset-right))}
  .toolbar{padding-left:max(18px, env(safe-area-inset-left)); padding-right:max(18px, env(safe-area-inset-right))}
}
